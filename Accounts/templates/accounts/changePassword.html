{% extends "App/base.html" %} 
{% load static %}
{% block dynamicTitleHead %}
Editar Perfil
{% endblock %}
{% block dynamicTitle %}
<h1>Editar mi Perfil</h1>
{% endblock %}
{% block dynamicContent %}
<div style="background-color:  #f4f4f4; padding: 20px; border-radius: 10px; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2); max-width: 400px; margin: 0 auto;">
    <form action="/accounts/changePassword" method="POST">
        {% csrf_token %}
        <div class="form-group">
            <p>Usuario <span class="fw-normal">{{ request.user.username }}</span></p>
        </div>
        <div class="form-group">
            <label for="inputPasswordOld">Contraseña Actual</label>
            <input type="password" id="inputPasswordOld" name="old_password" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="inputChangePassword1">Contraseña Nueva</label>
            <input type="password" id="inputChangePassword1" name="new_password1" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="inputChangePassword2">Repetir contraseña Nueva</label>
            <input type="password" id="inputChangePassword2" name="new_password2" class="form-control" required>
        </div>
        
        <button type="submit" class="btn btn-success">Realizar cambios</button>
    </form>
    {% if changePasswordForm.errors %}
        {% for field in changePasswordForm %}

            {% for error in field.errors %}
                <p>{{field.label}}: {{ error|escape }}</p>
            {% endfor %}

        {% endfor %}
    {% endif %}
</div>

{% endblock %}